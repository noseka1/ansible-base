apiVersion: config.openshift.io/v1
kind: Proxy
metadata:
  name: cluster
spec:
  trustedCA:
{% if osclusterpostinst_trusted_ca_bundle | length > 0 %}
    name: user-ca-bundle
{% else %}
    name: ''
{% endif %}
{% if osclusterpostinst_clusterwide_proxy[oscommon_cluster_domain] is defined %}
  httpProxy: {{ osclusterpostinst_clusterwide_proxy[oscommon_cluster_domain].http_proxy }}
  httpsProxy: {{ osclusterpostinst_clusterwide_proxy[oscommon_cluster_domain].https_proxy }}
  noProxy: {{ osclusterpostinst_clusterwide_proxy[oscommon_cluster_domain].no_proxy }}
  readinessEndpoints:
    - http://www.google.com
    - https://www.google.com
{% endif %}
