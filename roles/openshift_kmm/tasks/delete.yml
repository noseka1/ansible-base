- import_role:
    name: openshift_common
    tasks_from: delete_kubernetes_objects.yml
  vars:
    delete_kubernetes_finalizers: true
    delete_kubernetes_objects:
      - api_version: build.openshift.io/v1
        kind: Build
        namespace: kmm-example
  tags: kmm_example

- import_role:
    name: openshift_autogitops
    tasks_from: app_delete.yml
  vars:
    autogitops_app_dst_path: kmm/kmm-example
  tags: kmm_example

- import_role:
    name: openshift_common
    tasks_from: delete_kubernetes_objects.yml
  vars:
    delete_kubernetes_objects:
      - api_version: kmm.sigs.x-k8s.io/v1beta1
        kind: NodeModulesConfig
  tags: kmm_example

- import_role:
    name: openshift_autogitops
    tasks_from: app_delete.yml
  vars:
    autogitops_app_dst_path: kmm/operator
  tags: kmm_operator
