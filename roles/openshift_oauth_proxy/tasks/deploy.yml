- import_role:
    name: openshift_hashicorp_vault
    tasks_from: secret_insert.yml
  vars:
    hvault_mount_point: autogitops
    hvault_secret_name: '{{ oauth_proxy_app_prefix }}oauth-proxy/instance/session'
    hvault_secret_data:
      # The cookie_secret must be 16, 24, or 32 bytes to create an AES cipher when pass_access_token == true or cookie_refresh != 0
      session_secret: change me 123456

- import_role:
    name: openshift_autogitops
    tasks_from: app_deploy.yml
  vars:
    autogitops_app_src_path: templates/instance
    autogitops_app_dst_path: '{{ oauth_proxy_app_prefix }}oauth-proxy/instance'
    autogitops_app_namespace: '{{ oauth_proxy_namespace }}'
