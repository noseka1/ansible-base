- assert:
    that: query('kubernetes.core.k8s', api_version='v1', kind='Node', label_selector='cluster.ocs.openshift.io/openshift-storage=') | length >= 3
    fail_msg: |
      Need at least 3 nodes labeled as ODF nodes. You can label cluster nodes using:

      $ oc label nodes <node> cluster.ocs.openshift.io/openshift-storage=

      Optionally, you can define cluster topology by adding OSD topology labels as defined at:
      https://www.rook.io/docs/rook/latest/CRDs/Cluster/ceph-cluster-crd/#osd-topology
    quiet: true
